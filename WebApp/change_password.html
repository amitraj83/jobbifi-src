<script>
    $(document).ready(function () {

        // update password
        $("#update_password_button").click(function () {
            var currentPassword = $("#currentPassword").val();
            if ($.trim(currentPassword) == "") {
                alert("Please enter current password");
                return;
            }

            var newPassword = $("#newPassword").val();
            if ($.trim(newPassword) == "") {
                alert("Please enter new password");
                return;
            }

            var confirmNewPassword = $("#confirmNewPassword").val();
            if ($.trim(confirmNewPassword) == "") {
                alert("Please enter confirm new password");
                return;
            }

            if (newPassword != confirmNewPassword) {
                alert("The new password and confirm new password must be same");
                return;
            }

            var data = "currentPassword=" + CryptoJS.SHA1(currentPassword) +
                    "&newPassword=" + CryptoJS.SHA1(newPassword) +
                    "&confirmNewPassword=" + CryptoJS.SHA1(confirmNewPassword);

            $.ajax({
                url: BASE_URL + "changepassword.do",
                data: data,
                type: 'POST',
                success: function (response) {
                    var resData = jQuery.parseJSON(response);
                    $("#currentPassword").val('');
                    $("#newPassword").val('');
                    $("#confirmNewPassword").val('');
                },
                error: function () {
                    console.log("Error occured while processing the request");
                }
            });
        });
    });
</script>
<h3 style="margin:0px">Change Password</h3>
<hr/>
<form role="form" class="form-horizontal">
    <div class="form-group">
        <label class="col-lg-3 control-label">Current Password</label>

        <div class="col-lg-9">
            <input type="password" class="form-control" id="currentPassword"/>
        </div>
    </div>
    <div class="form-group">
        <label class="col-lg-3 control-label">New Password</label>

        <div class="col-lg-9">
            <input type="password" class="form-control" id="newPassword"/>
        </div>
    </div>
    <div class="form-group">
        <label class="col-lg-3 control-label">Confirm New Password</label>

        <div class="col-lg-9">
            <input type="password" id="confirmNewPassword" class="form-control"/>
        </div>
    </div>
    <div class="form-group">
        <label class="col-lg-3 control-label"></label>

        <div class="col-lg-9">
            <button id="update_password_button" class="btn btn-success" type="button">Update Password</button>
        </div>
    </div>
</form>