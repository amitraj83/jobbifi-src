Date.fromString=function(){var e={order:"MDY",strict:!1,convertUTC:!1},r=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],t=["AM","PM","AFTERNOON","MORNING"],n=function(e,r){var t=r.toLowerCase(),n=new RegExp("^"+t+"|(.*[^:alpha:])"+t,"g");return e.replace(n,"$1"+r)},a=function(e){e=e.toLowerCase(),e=e.replace(/[^:a-z0-9]/g,"-");for(var a=0;a<r.length;a++)e=n(e,r[a]);for(var a=0;a<t.length;a++)e=n(e,t[a]);return e=e.replace(/[a-z]/g,""),e=e.replace(/([0-9])([A-Z])/g,"$1-$2"),e=("-"+e+"-").replace(/-+/g,"-")},i=function(e){var r={date:e,time:""};return r.time=e.replace(/^.*-(\d\d?(:\d\d){1,2}(-(AM|PM))?)-.*$/,"$1"),r.time==r.date&&(r.time=e.replace(/^.*-(\d\d?-(AM|PM))-.*$/,"$1")),r.time==r.date&&(r.time=""),r.date=e.replace(r.time,""),r.time=("-"+r.time+"-").replace(/-+/g,"-"),r.date=("-"+r.date+"-").replace(/-+/g,"-"),r},d=function(r){var t=null;if(t=r.replace(/^.*-(\d\d\d\d)-.*$/,"$1"),t!=r)return t;if(t=null,t=r.replace(/^.*-((3[2-9])|([4-9][0-9]))-.*$/,"$1"),t!=r)return t;t=null;var n=r.match(/-0\d-/g);if(n&&1==n.length)return n[0].substring(1,3);if(t=r.replace(/^.*-[A-Z]{3}-\d\d?-(\d\d?)-.*$/,"$1"),t!=r)return t;if(t=null,t=r.replace(/^.*-(\d\d?)-\d\d?-[A-Z]{3}-.*$/,"$1"),t!=r)return t;t=null;var a="$3";return"Y"==e.opts.order.charAt(0)?a="$1":"Y"==e.opts.order.charAt(1)&&(a="$2"),t=r.replace(/^.*-(\d\d?)-([A-Z]{3}|\d{1,2})-(\d\d?)-.*$/,a),t!=r?t:t=null},o=function(r,t){var n=r.match(/[A-Z]{3}/);if(n&&n.length)return n[0];var a=r.replace(t+"-","").split("-");if(4!=a.length)return null;var i=e.opts.order,d=i.indexOf("M")<i.indexOf("D")?1:2;return parseInt(a[d],10)<=12?a[d]:a[1==d?2:1]},c=function(e,r,t){return e.replace(r,"").replace(t,"").replace(/-/g,"")},l=function(r){var t=r.time.replace(/[-APM]/g,""),n=t.split(":");n[1]=n[1]||0,n[2]=n[2]||0;var a=parseInt(n[0],10);r.time.match(/-AM-/)&&12==a?n[0]=0:r.time.match(/-PM-/)&&12>a&&(n[0]=a+12),n[0]=("0"+n[0]).substring(("0"+n[0]).length-2),n[1]=("0"+n[1]).substring(("0"+n[1]).length-2),n[2]=("0"+n[2]).substring(("0"+n[2]).length-2),t=n.join(":");var i=e.opts.strict;r.year||i||(r.year=(new Date).getFullYear());var d=parseInt(r.year,10);100>d&&(d+=70>d?2e3:1900),r.month||i||(r.month=(new Date).getMonth()+1);var o=String(r.month);o.match(/[A-Z]{3}/)&&(o="JAN-FEB-MAR-APR-MAY-JUN-JUL-AUG-SEP-OCT-NOV-DEC-".indexOf(o)/4+1),o=("0"+o).substring(("0"+o).length-2),r.day||i||(r.day=(new Date).getDate());var c=("0"+r.day).substring(("0"+r.day).length-2),l=new Date;return e.opts.convertUTC?l=new Date(Date.UTC(d,o-1,c,n[0],n[1],n[2])):l.setTime(Date.parse(d+"/"+o+"/"+c+" "+t)),l},u=function(e){return p(e)},p=function(e){var r=i(e);return r.norm=e,r.year=d(r.date),r.month=o(r.date,r.year),r.day=c(r.date,r.year,r.month),l(r)};return function(r,t){if(""==r||!r)return"";e.opts={order:e.order,strict:e.strict},t&&t.order&&(e.opts.order=t.order),t&&void 0!=t.strict&&(e.opts.strict=t.strict),t&&void 0!=t.convertUTC&&(e.opts.convertUTC=t.convertUTC);var n=u(a(r));return n}}();