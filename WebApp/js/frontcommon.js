function insertHeaderFooter(){0==$("#website_header").length&&$("body").prepend($("<div id='website_header'></div>")),$.get("header.html",function(e){checkLogin(),$("#btn-signup").click(function(){Register()}),$("#loginwithlinkedin").click(function(){var e=confirm("By clicking OK, you allows us to store your LinkedIn information in our database. Please read our data policy. Do you accept?");e&&(window.location=BASE_URL+"linkedinshowloginscreen.do")})}),0==$("#website_footer").length&&$("body").append($("<div id='website_footer'></div>")),$.get("footer.html",function(e){$("#website_footer").html(e)})}function Register(){var e=$("#username").val();if(""==e)return void alert("Please provide username");var a=$("#email").val();if(""==a)return void alert("Please provide email address");if(!validateEmail(a))return void alert("Please provide a valid email address");var r=$("#password").val();if(""==$.trim(r))return void alert("Please provide password");if($.trim(r).length<8)return void alert("Password must be more than 8 character long");var t=$("#confirmpassword").val();if(""==t)return void alert("Please re-enter the password");if(r!=t)return void alert("The re-entered password does not match");var i=$("#signupform input[name='usertype']:checked").val();if("undefined"==typeof i)return void alert("Please select your user type");var o="username="+e+"&useremail="+a+"&password="+CryptoJS.SHA1(r)+"&type="+i;$.ajax({type:"POST",url:BASE_URL+"register.do",data:o}).done(function(e){var a=jQuery.parseJSON(e);2==a.response?alert("This user already exist. Please create a unique user."):1==a.response&&(alert("The user has been registered successfully."),window.location.href=BASE_URL)})}function validateEmail(e){var a=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return a.test(e)?!0:!1}function showLoginLink(){IS_USER_LOGIN?($(".menu-login").hide(),$(".menu-logout").show()):($(".menu-login").show(),$(".menu-logout").hide())}function checkLogin(){$.ajax({type:"GET",url:BASE_URL+"isloggedin.do"}).done(function(e){"NL"==e?IS_USER_LOGIN=!1:"LI"==e&&(IS_USER_LOGIN=!0,initializeUserData()),showLoginLink()})}function login(){$("#loginboxmsg").html("");var e="j_username="+$("#j_username").val()+"&j_password="+$("#j_password").val();$.ajax({type:"POST",url:BASE_URL+"j_spring_security_check",data:e,dataType:"json",success:function(e){if(null!=e.RESULT&&"SUCCESS"==e.RESULT){if(e.REDIRECT)return void(window.top.location=BASE_URL+e.REDIRECT);IS_USER_LOGIN=!0,showLoginLink(),$("#myModal").modal("hide"),initializeUserData(),SHOW_MESSAGE_BOX&&(showContactMeScreen(MESSAGE_TO_UESR),SHOW_MESSAGE_BOX=!1,MESSAGE_TO_UESR=null)}else $("#loginboxmsg").html("<div class='alert alert-danger'>Email or password is wrong.</div>")},error:function(){$("#loginboxmsg").html("<div class='alert alert-danger'>Unable to process the rquest.</div>")}})}function sendForgotPasswordMail(){var e=$("#forgotpass_email").val();return validateEmail(e)?void $.ajax({type:"GET",url:BASE_URL+"resetpasswordemail.do",data:"useremail="+e}).done(function(e){alert(e),$("#forgotpasswordbox").hide()}).error(function(e,a){alert("Error occured while processing the request.")}):void alert("Please enter valid email.")}function showContactMeScreen(e){if(IS_USER_LOGIN){var a='<div class="modal fade" id="contactForm" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Quick Contact</h4></div><div class="modal-body"><div id="chatalert"></div><form role="form"><input type="hidden" id="chatto" value="'+e+'"><div class="form-group"><label>Your Message</label><textarea id="chatmessage" placeholder="Enter your message" class="form-control input-xs"></textarea></div><button onclick="sendChatMessage();" id="qucikContactBtn" class="btn btn-default" type="button">Send</button></form></div></div></div></div>';0==$("#qucikContact").length&&$("body").append($("<div id='qucikContact'></div>").html(a)),$("#contactForm").modal("show")}else $("#loginboxmsg").html("<div class='alert alert-warning'>Login or register to get started.</div>"),$("#myModal").modal("show"),SHOW_MESSAGE_BOX=!0,MESSAGE_TO_UESR=e}var loc=document.location+"",BASE_URL=loc.substring(0,loc.lastIndexOf("/"))+"/",AWARD_INTERVIEW='<input type="button" class="awardinterview" value="Award Interview" alt="$iid$" bidid="$bid_id$" >',defaultSearchTextforInterviewer="Search interviews",defaultSearchTextforInterviewee="Search interviewers",currentDefaultInSearchTextField="",BOSH_SERVICE="https://162.243.74.91:5285/http-bind",XMPPService="162.243.74.91",already_requested_user=new Array,users_available_for_message=new Array,interviewsAsInterviewer=new Array,interviewsAsInterviewee=new Array,interviewsWhereIBid=new Array,CHAT_FRIENDS_MAP=new Map,linkedInUser=null,user=null,financeTAB="",connection=null,SHOW_MESSAGE_BOX=!1,MESSAGE_TO_UESR=null,IS_USER_LOGIN=!1;$(document).ready(function(){insertHeaderFooter()});