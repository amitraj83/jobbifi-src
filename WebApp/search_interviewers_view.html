<link rel="stylesheet" type="text/css" href="css/slider.css">
<style type="text/css">
    label {
        margin-bottom: 0px;
        font-weight: normal;
    !important
    }

    .panel:hover {
        background-color: #dfdfdf !important;
        cursor: pointer;
    }
</style>
<script type="text/javascript" src="js/bootstrap-slider.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#slideexperience").slider({});
        $("#slidebudget").slider({});


        $(document).off("click", ".interviewerresult");

        // this is needed as the html added first then the data
        // so the listner should global
        $(document).on("click", ".interviewerresult", function () {
            var profilename = $(this).attr("uname");
            $.get("single_profile.html", function (data) {
                $("#maincontainer").html(data);
                $.ajax({
                    type: "GET",
                    url: BASE_URL + "userexternaldata.do",
                    data: "username=" + profilename,
                    async: false
                }).done(function (res) {
                    var resData = jQuery.parseJSON(res);
                    $("#profile_userpic").attr("src", resData.profilepic);
                    $("#profile_username").html(resData.username);
                    $("#profile_country").html(resData.country);
                    $("#profile_rating").html(resData.rating);
                    $("#reviewcount").html(resData.reviewCount);
                    $("#userratingstar").html(getBigStarView(resData.rating));

                    if (resData.isonline == true || res == "true")
                        $('<img src="images/green.png" width="20px" height="20px"  style="position: absolute; top: 5px; left: 225px;"/>').insertAfter("#profile_userpic");
                    else
                        $('<img src="images/red.png" width="20px" height="20px"  style="position: absolute; top: 5px; left: 225px;"/>').insertAfter("#profile_userpic");


                    if (Number(resData.reviewCount) > 0) {
                        if (Number(resData.individualratings.rate5) > 0) {
                            $("#howmany5").attr("style", 'width: ' + (Number(resData.individualratings.rate5) / Number(resData.reviewCount) * 100 ) + '%');
                            $("#howmanyvalue5").html((Number(resData.individualratings.rate5) / Number(resData.reviewCount) * 100 ) + "%");
                        }
                        if (Number(resData.individualratings.rate4) > 0) {
                            $("#howmany4").attr("style", 'width: ' + (Number(resData.individualratings.rate4) / Number(resData.reviewCount) * 100 ) + '%');
                            $("#howmanyvalue4").html((Number(resData.individualratings.rate4) / Number(resData.reviewCount) * 100 ) + "%");
                        }
                        if (Number(resData.individualratings.rate3) > 0) {
                            $("#howmany3").attr("style", 'width: ' + (Number(resData.individualratings.rate3) / Number(resData.reviewCount) * 100 ) + '%');
                            $("#howmanyvalue3").html((Number(resData.individualratings.rate3) / Number(resData.reviewCount) * 100 ) + "%");
                        }
                        if (Number(resData.individualratings.rate2) > 0) {
                            $("#howmany2").attr("style", 'width: ' + (Number(resData.individualratings.rate2) / Number(resData.reviewCount) * 100 ) + '%');
                            $("#howmanyvalue2").html((Number(resData.individualratings.rate2) / Number(resData.reviewCount) * 100 ) + "%");
                        }
                        if (Number(resData.individualratings.rate1) > 0) {
                            $("#howmany1").attr("style", 'width: ' + (Number(resData.individualratings.rate1) / Number(resData.reviewCount) * 100 ) + '%');
                            $("#howmanyvalue1").html((Number(resData.individualratings.rate1) / Number(resData.reviewCount) * 100 ) + "%");
                        }
                    }
                    var cv = $.trim(resData.cv);
                    if (cv.length > 280) {
                        cv = cv.substring(0, 280);
                        cv = cv + '...&nbsp;&nbsp;&nbsp;<a href="#">show more </a>';
                    }
                    $("#usershortcv").html(cv);
                    var workexp = "<br>";
                    for (var i = 0; i < resData.positions.length; i++) {
                        workexp = workexp + '<span><h5><b>' + resData.positions[i].title + ' - ' + resData.positions[i].companyName + ' (' + resData.positions[i].startYear + '-' + resData.positions[i].endYear + ')</b></h5></span>' + resData.positions[i].description + '<hr>';
                    }

                    $("#workexperience").html(workexp);


                    for (var i = 0; i < resData.educations.length; i++) {
                        var education = '<tr> ' +
                                '<td>' + resData.educations[i].schoolname + '</td>' +
                                '<td>' + resData.educations[i].degree + '</td>' +
                                '<td>' + resData.educations[i].fieldOfStudy + '</td>' +
                                '<td>' + resData.educations[i].startYear + '-' + resData.educations[i].endYear + '</td>' +
                                '</tr>';
                        $("#userprofileeducation").append(education);
                    }

                    var allskills = resData.skilllist;
                    for (var i = 0; i < allskills.length; i++) {
                        var per = Math.round((allskills[i].skillYear / 15) * 100);
                        if (per > 100) {
                            per = 100;
                        }
                        var askill = '<div class="row">' +
                                '<div class="col-md-3">&nbsp;&nbsp;&nbsp;' + allskills[i].skill + '</div>' +
                                '<div class="col-md-6 ">' +
                                '		<div class="progress">' +
                                ' 		<div class="progress-bar progress-bar-success" ' +
                                '		role="progressbar" aria-valuenow="' + per + '" aria-valuemin="0" aria-valuemax="100" style="width: ' + per + '%">' +
                                '    			<span class="sr-only">' + per + '% </span>' +
                                ' 		</div>' +
                                '	</div>' +
                                '</div>' +
                                '<div class="col-md-3">' +
                                '' + allskills[i].skillYear + '	years' +
                                '</div>' +
                                '</div>';
                        $("#skills").append(askill);
                    }

                    for (var i = 0; i < resData.allreviews.length; i++) {
                        var areview = '<div class="panel panel-default">' +
                                '<div class="panel-heading">' +
                                '<div class="row">' +
                                '<div class="col-md-8"><span class="panel-title">' + resData.allreviews[i].ititle + '</span> - <span><small>' + prettyDate(new Date(Number(resData.allreviews[i].dt))) + '</small></span></div>' +
                                '<div class="col-md-4"><span style="pull-right">' +
                                '' + getStarView(resData.allreviews[i].average) + ' (' + resData.allreviews[i].average + '/5)' +
                                '	</span></div></div></div>' +
                                '<div class="panel-body">' +
                                '    <i>' + resData.allreviews[i].message + '</i>' +
                                '<div class="row">' +
                                '<div class="col-md-8"></div>' +
                                '<div class="col-md-4"><span style="pull-right">by ' + resData.allreviews[i].ratedby + ' on </span><div><small>&nbsp;&nbsp;' + prettyDate(new Date(Number(resData.allreviews[i].dt))) + '</small></div></div>' +
                                '  </div>' +
                                '  </div>' +
                                '</div>';
                        $("#reviews").append(areview);
                    }
                });
            });
        });

    });
</script>
<br>
<div class="row">


    <div class="col-md-3">
        <div class="well">
            <br>
            <b>Functions</b><br>
            <label>
                <input type="checkbox" checked="true"> All
            </label><br>
            <label>
                <input type="checkbox"> Software
            </label><br>
            <label>
                <input type="checkbox"> Consulting
            </label><br>
            <label>
                <input type="checkbox"> Finance
            </label><br>
            <label>
                <input type="checkbox"> Marketing
            </label><br>
            <label>
                <input type="checkbox"> Technology
            </label><br>
            <label>
                &nbsp;&nbsp;&nbsp;&nbsp; <a href="#">more</a>
            </label>
            <hr>
            <!-- <b>Employers</b><br>
            <label >
              <input type="checkbox"> Facebook
            </label><br>
            <label>
              <input type="checkbox"> Google
            </label><br>
            <label>
              <input type="checkbox"> Microsoft
            </label><br>
            <label>
              <input type="checkbox"> IBM
            </label><br>
            <label>
              <input type="checkbox"> Accenture
            </label><br>
             <label>
               &nbsp;&nbsp;&nbsp;&nbsp; <a href="#">more</a>
            </label>-->
            <b>Skills </b><br>
            <label>
                <input type="checkbox" checked="true"> All
            </label><br>
            <label>
                <input type="checkbox"> Java
            </label><br>
            <label>
                <input type="checkbox"> PhP
            </label><br>
            <label>
                <input type="checkbox"> SQL
            </label><br>
            <label>
                <input type="checkbox"> .NET
            </label><br>
            <label>
                <input type="checkbox"> C/C++
            </label><br>
            <label>
                &nbsp;&nbsp;&nbsp;&nbsp; <a href="#">more</a>
            </label>
            <hr>
            <b>Experience </b>(years)<br>

            <div class="row">
                <div class="col-md-2" style="padding:0px 0px 0px 15px;">1</div>
                <div class="col-md-8" style="padding:0px 0px 0px 12px"><input id="slideexperience" type="text"
                                                                              class="span2 text-right" value=""
                                                                              data-slider-min="1" data-slider-max="25"
                                                                              data-slider-step="5"
                                                                              data-slider-value="[1,10]"/></div>
                <div class="col-md-2" style="padding:0px">25</div>
            </div>
            <hr>
            <b>Rate </b>(per hour)<br>

            <div class="row">
                <div class="col-md-2" style="padding:0px 0px 0px 15px;">€10</div>
                <div class="col-md-8" style="padding:0px 0px 0px 12px"><input id="slidebudget" type="text"
                                                                              class="span2 text-right" value=""
                                                                              data-slider-min="10" data-slider-max="400"
                                                                              data-slider-step="5"
                                                                              data-slider-value="[50,200]"/></div>
                <div class="col-md-2" style="padding:0px">€400</div>
            </div>
            <hr>
            <b>Interviewer Location</b><br>
            <label>
                <input type="checkbox" checked="true"> All
            </label><br>
            <label>
                <input type="checkbox"> Unites States
            </label><br>
            <label>
                <input type="checkbox"> Germany
            </label><br>
            <label>
                <input type="checkbox"> Japan
            </label><br>
            <label>
                <input type="checkbox"> France
            </label><br>
            <label>
                <input type="checkbox"> India
            </label><br>
            <label>
                &nbsp;&nbsp;&nbsp;&nbsp; <a href="#">more</a>
            </label>


        </div>
    </div>

    <div class="col-md-8">
        <div id="searchview_main">
            <h3>Search Results for '<span id="key_searchview"></span>'</h3>
            <hr>
            <div id="allsearchresults">

            </div>


            <div id="paginationdiv">

            </div>
        </div>
    </div>
</div>	
